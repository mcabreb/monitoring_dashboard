# Story 1.2: Panel Layout Structure

## Status

Ready for Review

## Story

**As a** user,
**I want** to see a fixed multi-panel layout when I launch the app,
**so that** I have dedicated areas for different monitoring categories.

## Acceptance Criteria

1. App displays a fixed layout with 5 panel areas: System Health, Storage, Devices, Logs, and Info bar
2. Each panel has a visible border with a title label (GEM-style bordered windows)
3. Panels contain placeholder text indicating their purpose (e.g., "System Health - Coming Soon")
4. Layout is fixed and does not reflow when terminal is resized
5. Panels are visually distinct with the GEM aesthetic (clean borders, monochrome base)

## Tasks / Subtasks

- [x] Create base panel widget class (AC: 2, 5)
  - [x] Create src/monitor_dashboard/panels/__init__.py
  - [x] Create src/monitor_dashboard/panels/base.py with BasePanel class
  - [x] BasePanel extends textual.widgets.Static with border and title
  - [x] Include LED indicator placeholder in panel header
- [x] Create placeholder panels (AC: 1, 3)
  - [x] Create src/monitor_dashboard/panels/system_health.py with SystemHealthPanel
  - [x] Create src/monitor_dashboard/panels/storage.py with StoragePanel
  - [x] Create src/monitor_dashboard/panels/devices.py with DevicesPanel
  - [x] Create src/monitor_dashboard/panels/logs.py with LogsPanel
  - [x] Create src/monitor_dashboard/panels/info_bar.py with InfoBar
  - [x] Each panel displays placeholder text
- [x] Create main dashboard screen (AC: 1, 4)
  - [x] Create src/monitor_dashboard/screens/__init__.py
  - [x] Create src/monitor_dashboard/screens/main.py with MainDashboard
  - [x] Implement fixed grid layout using textual containers
  - [x] Position panels in tmux-style arrangement
- [x] Create GEM-style CSS theme (AC: 2, 5)
  - [x] Create src/monitor_dashboard/styles/app.tcss
  - [x] Define border styles (clean, sharp)
  - [x] Define monochrome color palette (black, white, grays)
  - [x] Define accent colors (green=OK, yellow=warning, red=critical)
  - [x] Style panel titles
- [x] Update app.py to use new layout (AC: 1)
  - [x] Import and compose MainDashboard screen
  - [x] Load CSS stylesheet
  - [x] Verify all 5 panels visible on launch

## Dev Notes

**Panel Layout (tmux-style):**
```
┌─────────────────────────┬─────────────────────────┐
│     System Health       │        Storage          │
│                         │                         │
├─────────────────────────┼─────────────────────────┤
│       Devices           │         Logs            │
│                         │                         │
└─────────────────────────┴─────────────────────────┘
│                     Info Bar                      │
└───────────────────────────────────────────────────┘
```

**BasePanel Structure:**
```python
class BasePanel(Static):
    """Base class for all monitoring panels."""

    BORDER_TITLE = "Panel"  # Override in subclass

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.border_title = self.BORDER_TITLE
```

**GEM Aesthetic Guidelines:**
- Clean bordered windows with title bars
- Drop shadow effect (optional via CSS)
- Monochrome base: black background, white/gray text
- Server rack-style LED indicators: ● green, ● yellow, ● red
- Sharp pixel appearance

**Textual CSS (app.tcss):**
```css
BasePanel {
    border: solid white;
    background: $surface;
    padding: 1;
}

BasePanel:focus {
    border: double $accent;
}
```

**Fixed Layout Constraint:**
- Use absolute positioning or grid with fixed dimensions
- Panels should NOT reflow on terminal resize
- Minimum terminal size: 80x24

### Testing

**Test Location:** tests/integration/

**Testing Standards:**
- Framework: pytest with textual pilot API
- Run with: `pytest tests/integration/test_panels.py`

**Test Cases:**
- Verify all 5 panels are present in widget tree
- Verify each panel has correct title
- Verify panels have visible borders

**Manual Verification:**
- Launch app and visually confirm layout matches design
- Resize terminal and confirm layout is fixed

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-17 | 0.1 | Initial story creation | Sarah (PO) |

---

## Dev Agent Record

### Agent Model Used

Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References

None

### Completion Notes List

- Created BasePanel class extending Textual's Static widget with GEM-style borders
- Implemented 5 panel widgets: SystemHealthPanel, StoragePanel, DevicesPanel, LogsPanel, InfoBar
- Each panel includes LED indicator (●) in border title
- Created MainDashboard screen with Grid layout for 2x2 panel arrangement
- InfoBar docked at bottom for full-width display
- Implemented GEM-style CSS theme with monochrome palette and status colors
- Updated app.py to use MainDashboard screen with CSS_PATH
- Created integration tests verifying panel presence, titles, borders, and placeholder content
- All code validated with syntax checks and import tests

### File List

- src/monitor_dashboard/panels/__init__.py
- src/monitor_dashboard/panels/base.py
- src/monitor_dashboard/panels/system_health.py
- src/monitor_dashboard/panels/storage.py
- src/monitor_dashboard/panels/devices.py
- src/monitor_dashboard/panels/logs.py
- src/monitor_dashboard/panels/info_bar.py
- src/monitor_dashboard/screens/__init__.py
- src/monitor_dashboard/screens/main.py
- src/monitor_dashboard/styles/app.tcss
- src/monitor_dashboard/app.py (modified)
- tests/integration/__init__.py
- tests/integration/test_panels.py
- tests/__init__.py
- tests/unit/__init__.py

---

## QA Results

_To be filled by QA agent_
